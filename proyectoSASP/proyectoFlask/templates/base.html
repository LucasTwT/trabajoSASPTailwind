<!DOCTYPE html>
<html lang="es">
  <head>
    {% block title %} {% endblock %}
    <link 
    rel="stylesheet" 
    href="{{ url_for('static', filename='css/output.css') }}"
  >
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='imgs/logoSASPSinFondo.png') }}">
  </head>
  <body class="bg-green-950">

    <nav class="bg-green-800/60 flex place-content-center w-auto h-auto items-center relative">
      <div class="mx-auto grid w-1/5 h-full">
        <a href="http://127.0.0.1:5000/">
            <img class="w-28" src="{{ url_for('static', filename='imgs/logoSASPSinFondo.png') }}" alt="falloLogo">
        </a>
    </div>
      <div class="hover:bg-green-800 grid w-1/5 h-full text-2xl text-white text-center"><a href="http://127.0.0.1:5000/">Inicio</a></div>
      <div class="hover:bg-green-800 grid w-1/5 h-full text-2xl text-white text-center"><a>Registro</a></div>
      <div class="hover:bg-green-800 grid w-1/5 h-full text-2xl text-white text-center"><a>Inicio de sesi√≥n</a></div>
      <div class="hover:bg-green-800 grid w-1/5 h-full text-2xl text-white text-center"><a href="http://127.0.0.1:5000/huerto">Huerto</a></div>
    </nav>
    
    <main>{% block content %} {% endblock %}</main>

    <footer class="w-full bottom-0 px-4 py-8 bg-green-900 text-white">
      <!-- Top Section -->
      <div class="max-w-7xl mx-auto flex flex-wrap justify-between items-center mb-6">
        <!-- Logo -->
        <div class="mb-4">
          <img src="{{ url_for('static', filename='imgs/logoSASPSinFondo.png') }}" alt="FRANCO" class="h-32" />
        </div>
    
        <!-- Bot√≥n pa√≠s -->
        <button class="border border-white text-white px-4 py-2 rounded-full hover:bg-white hover:text-gray-900 transition">
          <span>üìç</span> Espa√±a
        </button>
      </div>
    
      <hr class="border-black mb-6" />
    
      <!-- Links Section -->
      <div class="max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-6 text-sm">
        <!-- Columna 1 -->
        <div class="col-span-1">
          <h6 class="uppercase text-gray-400 mb-2">Qui√©nes somos</h6>
          <ul class="space-y-1">
            <li><a href="#" class="hover:underline">Nuestra empresa</a></li>
            <li><a href="#" class="hover:underline">Centro multimedia</a></li>
            <li><a href="#" class="hover:underline">Nuestra historia</a></li>
            <li><a href="#" class="hover:underline">Carreras</a></li>
          </ul>
        </div>
    
        <!-- Columna 2 -->
        <div class="col-span-1">
          <h6 class="uppercase text-gray-400 mb-2">¬øNecesita ayuda?</h6>
          <ul class="space-y-1">
            <li><a href="#" class="hover:underline">Preguntas frecuentes</a></li>
            <li><a href="#" class="hover:underline">Mapa del sitio</a></li>
            <li><a href="#" class="hover:underline">Contacte con nosotros</a></li>
          </ul>
        </div>
    
        <!-- Columna 3 -->
        <div class="col-span-1 md:col-span-1 lg:col-span-2">
          <ul class="space-y-1 mt-4 md:mt-0">
            <li><a href="#" class="hover:underline">Condiciones de uso</a></li>
            <li><a href="#" class="hover:underline">Pol√≠tica de privacidad</a></li>
            <li><a href="#" class="hover:underline">Configuraci√≥n de cookies</a></li>
            <li><a href="#" class="hover:underline">Pol√≠tica de cookies</a></li>
          </ul>
        </div>
      </div>
    </footer>
      <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
      <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      <script src="{{ url_for('static', filename='js/graficos_grid.js') }}"></script>
      <script>
        
    const data = [
            [0.12487854808568954, 0.004765782505273819, 0.007114121224731207, 0.13026493787765503, 0.0019127886043861508, 0.0057252454571425915, 0.004931269679218531, 0.004614181350916624, 0.000619191734585911, 0.0004418059252202511],
            [0.031215475872159004, 0.0630180686712265, 0.020496340468525887, 0.9303879737854004, 0.04967345669865608, 0.2722187638282776, 0.02827783301472664, 0.02319112978875637, 0.09756802767515182, 0.01248331367969513],
            [0.34542983770370483, 0.5946436524391174, 0.18995033204555511, 0.26170825958251953, 0.030434930697083473, 0.18661761283874512, 0.04132185876369476, 0.0256153866648674, 0.1643196940422058, 0.01733393408358097, 0.34764885902404785, 0.007023761980235577, 0.057723209261894226, 0.026522619649767876, 0.0017239800654351711, 0.02283821627497673, 0.013473834842443466, 0.135883629322052, 0.05797616392374039, 0.01152768824249506]
        ];

        const ctx = document.getElementById('trainingChart').getContext('2d');

        // Configuraci√≥n de animaciones personalizadas
        Chart.defaults.animation.duration = 2000;
        Chart.defaults.elements.line.tension = 0.4;

        // Plugin personalizado para efecto de brillo
        const glowPlugin = {
            id: 'glow',
            afterDraw: (chart) => {
                const ctx = chart.ctx;
                ctx.save();
                chart.data.datasets.forEach((dataset, i) => {
                    const meta = chart.getDatasetMeta(i);
                    if (meta.hidden) return;
                    
                    // Efecto de subrayado con gradiente
                    ctx.beginPath();
                    meta.data.forEach((point, index) => {
                        if (index === 0) ctx.moveTo(point.x, point.y);
                        else ctx.lineTo(point.x, point.y);
                    });
                    
                    const gradient = ctx.createLinearGradient(0, 0, chart.width, 0);
                    gradient.addColorStop(0, dataset.borderColor + '80');
                    gradient.addColorStop(1, dataset.borderColor + '00');
                    
                    ctx.strokeStyle = gradient;
                    ctx.lineWidth = 15;
                    ctx.stroke();
                });
                ctx.restore();
            }
        };

        new Chart(ctx, {
            type: 'line',
            plugins: [glowPlugin],
            data: {
                labels: data[0].map((_, i) => `√âpoca ${i + 1}`),
                datasets: [
                    {
                        label: 'ResNet-18(Peppers) (10 √©pocas)',
                        data: data[0],
                        borderColor: '#00BCD4',
                        backgroundColor: '#00BCD433',
                        borderWidth: 3,
                        pointRadius: 4,
                        pointHoverRadius: 7,
                        pointBackgroundColor: '#00BCD4',
                        fill: false
                    },
                    {
                        label: 'ResNet-18(Potatos) (10 √©pocas)',
                        data: data[1],
                        borderColor: '#FF9800',
                        backgroundColor: '#FF980033',
                        borderWidth: 3,
                        pointRadius: 4,
                        pointHoverRadius: 7,
                        pointBackgroundColor: '#FF9800',
                        fill: false
                    },
                    {
                        label: 'ResNet-18(Tomatos) (20 √©pocas)',
                        data: data[2],
                        borderColor: '#4CAF50',
                        backgroundColor: '#4CAF5033',
                        borderWidth: 3,
                        pointRadius: 4,
                        pointHoverRadius: 7,
                        pointBackgroundColor: '#4CAF50',
                        fill: false
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        title: {
                            display: true,
                            text: 'P√©rdida',
                            color: '#fff',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        },
                        grid: {
                            color: '#ffffff20'
                        },
                        ticks: {
                            color: '#fff'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: '√âpocas de Entrenamiento',
                            color: '#fff',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        },
                        grid: {
                            color: '#ffffff10'
                        },
                        ticks: {
                            color: '#fff',
                            maxTicksLimit: 10
                        }
                    }
                },
                plugins: {
                    legend: {
                        labels: {
                            color: '#fff',
                            font: {
                                size: 12
                            }
                        }
                    },
                    tooltip: {
                        backgroundColor: '#000000dd',
                        titleColor: '#00BCD4',
                        bodyColor: '#fff',
                        borderColor: '#ffffff30',
                        borderWidth: 1,
                        cornerRadius: 5
                    },
                    title: {
                        display: true,
                        text: 'Comparaci√≥n de Entrenamiento de Modelos ResNet-18',
                        color: '#fff',
                        font: {
                            size: 18,
                            weight: 'bold'
                        },
                        padding: {
                            top: 10,
                            bottom: 20
                        }
                    },
                    subtitle: {
                        display: true,
                        text: 'Reconocimiento de Enfermedades en Plantas',
                        color: '#ffffffff',
                        font: {
                            size: 14,
                            weight: 'italic'
                        }
                    }
                },
                transitions: {
                    show: {
                        animations: {
                            x: {
                                from: 0
                            },
                            y: {
                                from: 0
                            }
                        }
                    },
                    hide: {
                        animations: {
                            x: {
                                to: 0
                            },
                            y: {
                                to: 0
                            }
                        }
                    }
                },
                interaction: {
                    mode: 'nearest',
                    intersect: false
                }
            }
        });

        // Animaci√≥n adicional de carga
        document.querySelectorAll('.chart-container').forEach(container => {
            container.style.opacity = '0';
            container.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                container.style.transition = 'all 1s ease-out';
                container.style.opacity = '1';
                container.style.transform = 'translateY(0)';
            }, 500);
        });
      </script>
  </body>
</html>
